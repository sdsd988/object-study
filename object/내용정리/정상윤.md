# 3장 : 역할, 책임, 협력

## 객체 지향 프로그래밍 
- 협력하는 객체들의 공동체를 창조하는 것
- 협력을 구성하기 위해 적절한 객체를 찾고, 적절한 책임을 할당하는 과정
- 애플리케이션 기능을 구형하기 위해 어떤 협력이 필요하고 협력을 위해 어떤 역할과 책임이 필요한지를 고민하는 것이 필요하다.


## 협력

### 정의: 객체들이 애플리케이션 기능을 구현하기 위해 수행하는 상호작용

- 협력이 이루어지는 방식? - 메세지 전송
- 메시지 전송으로 협력이 구현되는 이유:`캡슐화`, 객체는 다른 객체의 상세한 내부 구현에 직접 접근할 수 없기 때문
- 메세지를 수신한 객체는 `메서드`를 활용해서 요청에 응답
  - 객체는 메세지를 선택할 방법을 스스로 선택, 즉 객체 내부에 구현된 `메서드`를 활용해서 메세지에 응답
- 영화 예매 시스템에서의 메시지 전송 과정
  - Screening 객체는 혼자서 요금 계산을 처리할 수 없다.
  - Movie 객체에게 요금 계산을 메세지(calculateMovieFee)를 전송(위임)
  - Movie 객체는 직접 요금을 계산(자율적인 존재)
- 자율적인 객체는 자신에게 할당된 책임을 수행하던 중에 필요한 정보를 알지 못하거나 외부의 도움이 필요한 경우 적절한 객체에게 메세지를 전송해서 협력을 요청
- 객체들 사이의 협력을 구성하는 일련의 요청과 응답의 흐름을 통해 애플리케이션 기능이 구현

### 협력이 설계를 위한 문맥을 결정한다 

#### 객체 - 상태와 행동을 함께 캡슐화하는 실행 단위
#### 협력 -> 행동 -> 상태
- 객체가 가질 수 있는 상태와 행동을 결정하는 근거, 어떤 상태와 행동을 할당하는 이유는? - 객체가 참여하고 있는 `협력`
- 협력은 객체가 필요한 이유와 객체가 수행하는 행동의 동기를 제공
- 영화 예매 시스템에서 상태와 행동을 할당한 과정
  - 일반적으로 Movie의 역할은 영화 상영과 관련된 행동을 가질 것으로 생각한다.
  - 하지만, 영화 예매 시스템 안의 객체 Movie는 영화 예매를 하기 위한 협력에 참여하고 있다.
  - 그리고, 그 안에서 요금을 계산하는 책임을 가지고 있다.
  - 즉, Movie의 행동을 결정하는 것은 `영화 예매를 위한 협력`
- 객체의 행동은 객체의 상태를 결정한다.
- 객체의 상태는 그 객체가 행동을 수행하는데 필요한 정보에 따라 결정
- 객체는 자율적인 존재이므로, 행동에 필요한 상태도 함께 가지고 있어야 함
  - Movie 객체는 행동(요금 계산)에 필요한 상태(기본요금(fee),할인정책(discountPolicy))를 포함한다.
  - Screening 객체는 행동(예매 요금 계산)에 필요한 상태(영화(Movie))를 가진다.
- 결론적으로, 협력은 객체를 설계하는데 필요한 문맥(Context)를 제공함으로써 객체의 상태와 행동 결정에 영향을 미친다.

## 책임
  



